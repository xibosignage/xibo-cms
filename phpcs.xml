<?xml version="1.0"?>
<!--
  ~ Copyright (C) 2021-2023 Xibo Signage Ltd
  ~
  ~ Xibo - Digital Signage - https://xibosignage.com
  ~
  ~ This file is part of Xibo.
  ~
  ~ Xibo is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ any later version.
  ~
  ~ Xibo is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with Xibo.  If not, see <http://www.gnu.org/licenses/>.
  -->
<ruleset name="Xibo Standard">
	<description>Standards built on PSR2, specifically for the Xibo Signage team</description>

	<!-- Minified files don't have to comply with coding standards. -->
	<exclude-pattern>*.min.css</exclude-pattern>
	<exclude-pattern>*.min.js</exclude-pattern>

	<!-- Exclude files that do not contain PHP, Javascript or CSS code. -->
	<exclude-pattern>*.json</exclude-pattern>
	<exclude-pattern>*.sh</exclude-pattern>
	<exclude-pattern>*.xml</exclude-pattern>
	<exclude-pattern>*.yml</exclude-pattern>
	<exclude-pattern>composer.lock</exclude-pattern>

	<!-- Exclude the `vendor` folder. -->
	<exclude-pattern>vendor/</exclude-pattern>

	<!-- Include the whole of PSR2 -->
	<rule ref="PSR2">
		<exclude name="PSR2.ControlStructures.ElseIfDeclaration" />
	</rule>

	<!-- Include the double quotes check from Squiz -->
	<rule ref="Squiz.Strings.DoubleQuoteUsage" />

	<!-- Include some generic functions -->
	<rule ref="Generic.PHP.ForbiddenFunctions">
		<properties>
			<property name="forbiddenFunctions" type="array">
				<element key="delete" value="unset"/>
				<element key="print" value="echo"/>
				<element key="create_function" value="null"/>
			</property>
		</properties>
	</rule>
</ruleset>